import{S as I,a5 as C,bP as D,r as l,j as e,V as a,an as E,T,P as k,bX as B,aV as H}from"./index-BanVTlhg.js";import{U as L}from"./UserItem-Bg2tYH2X.js";import{b as P,a as w}from"./hook-DVnn475D.js";import{D as G}from"./dialogTitleClasses-CAlvBSfc.js";import{D as R}from"./DialogTitle-Dn6jQz4K.js";import{B as m}from"./Button-2cdgf7kG.js";import"./ListItem-CRCg59Gd.js";import"./Avatar-D1EpHAeu.js";import"./Add-CXK5JxIE.js";const V=({chatId:u})=>{var c;const p=I(),{isAddMember:t}=C(s=>s.misc),g=localStorage.getItem("userID"),{data:r,isLoading:b,error:h,refetch:i,error:x}=D(g),[f,M]=P(B),[d,j]=l.useState([]);l.useEffect(()=>{t===!1&&i()},[t,i]);const A=s=>{j(n=>n.includes(s)?n.filter(S=>S!==s):[...n,s])},o=()=>{p(H(!1))},y=()=>{f("Adding Members...",{members:d,chatId:u}),o()};return w([{usersError:h,error:x}]),e.jsx(G,{open:t,onClose:o,sx:{ml:60},children:e.jsxs(a,{p:"1.5rem",width:"25rem",spacing:"2rem",children:[e.jsx(R,{textAlign:"center",children:"Add Member"}),e.jsx(a,{spacing:"1rem",children:b?e.jsx(E,{}):(r==null?void 0:r.users.length)>0?(c=r==null?void 0:r.users)==null?void 0:c.map(s=>e.jsx(L,{user:s,handler:A,isAdded:d.includes(s._id)},s._id)):e.jsx(T,{textAlign:"center",children:"No Friends"})}),e.jsxs(a,{direction:"row",alignItems:"center",justifyContent:"space-evenly",children:[e.jsx(m,{color:"error",onClick:o,children:"Cancel"}),e.jsx(m,{onClick:y,variant:"contained",disabled:M,children:"Submit Changes"})]})]})})};V.propTypes={chatId:k.string.isRequired};export{V as default};
