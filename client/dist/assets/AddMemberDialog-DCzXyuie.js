import{O as I,a3 as C,bU as D,r as l,j as e,S as a,al as T,T as E,P as k,b$ as B,aT as H}from"./index-nQwRLWIV.js";import{U as L}from"./UserItem-sFQcFq5l.js";import{b as w,a as G}from"./hook-CbcOqQDK.js";import{D as P}from"./dialogTitleClasses-CCwdIm8o.js";import{D as R}from"./DialogTitle-CJCGWghD.js";import{B as m}from"./Button-CDrbuMrr.js";import"./ListItem-DoZKma3k.js";import"./Avatar-Cp_pS6TR.js";import"./Add-C1FZUdzj.js";const U=({chatId:u})=>{var c;const p=I(),{isAddMember:t}=C(s=>s.misc),g=localStorage.getItem("userID"),{data:r,isLoading:b,error:h,refetch:i,error:x}=D(g),[f,M]=w(B),[d,j]=l.useState([]);l.useEffect(()=>{t===!1&&i()},[t,i]);const A=s=>{j(n=>n.includes(s)?n.filter(S=>S!==s):[...n,s])},o=()=>{p(H(!1))},y=()=>{f("Adding Members...",{members:d,chatId:u}),o()};return G([{usersError:h,error:x}]),e.jsx(P,{open:t,onClose:o,sx:{ml:60},children:e.jsxs(a,{p:"1.5rem",width:"25rem",spacing:"2rem",children:[e.jsx(R,{textAlign:"center",children:"Add Member"}),e.jsx(a,{spacing:"1rem",children:b?e.jsx(T,{}):(r==null?void 0:r.users.length)>0?(c=r==null?void 0:r.users)==null?void 0:c.map(s=>e.jsx(L,{user:s,handler:A,isAdded:d.includes(s._id)},s._id)):e.jsx(E,{textAlign:"center",children:"No Friends"})}),e.jsxs(a,{direction:"row",alignItems:"center",justifyContent:"space-evenly",children:[e.jsx(m,{color:"error",onClick:o,children:"Cancel"}),e.jsx(m,{onClick:y,variant:"contained",disabled:M,children:"Submit Changes"})]})]})})};U.propTypes={chatId:k.string.isRequired};export{U as default};
