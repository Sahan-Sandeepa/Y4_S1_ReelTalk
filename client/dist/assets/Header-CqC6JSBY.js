const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Search-BU72tpfX.js","assets/index-nQwRLWIV.js","assets/index-D-BKb5Zh.css","assets/index-CuMLlqtw.js","assets/hook-CbcOqQDK.js","assets/UserItem-sFQcFq5l.js","assets/ListItem-DoZKma3k.js","assets/Avatar-Cp_pS6TR.js","assets/Add-C1FZUdzj.js","assets/dialogTitleClasses-CCwdIm8o.js","assets/DialogTitle-CJCGWghD.js","assets/TextField-DRpVSgRA.js","assets/Select-CNHqHSZW.js","assets/InputAdornment-BVIphoD5.js","assets/Notification-BGdYddPJ.js","assets/Button-CDrbuMrr.js","assets/NewGroup-DXN_DuK7.js","assets/CameraAlt-B5Xul0kp.js"])))=>i.map(i=>d[i]);
import{P as e,r as c,j as t,aP as N,S as k,T as C,B as v,aK as y,u as O,O as A,a3 as j,aV as E,aO as w,aW as P,aX as T,aY as G,aZ as L,Z as $,$ as V,a_ as z,Y as R}from"./index-nQwRLWIV.js";import{A as B}from"./AvatarCard-Bh1tFwNb.js";import{m as M}from"./proxy-xsMdLfhG.js";const _=({avatar:l=[],name:r,_id:o,groupChat:p=!1,sameSender:i,isOnline:d,newMessageAlert:u,index:h=0,handleDeleteChat:g,onChatSelect:m,selectedAction:x,poster:s})=>t.jsx(N,{style:{padding:"0",textDecoration:"none"},to:`/chat/${o}?param=${x}&secondParam=${s}`,onContextMenu:a=>g(a,o,p),onClick:()=>m(o),children:t.jsxs(M.div,{initial:{opacity:0,y:"-100%"},whileInView:{opacity:1,y:0},transition:{delay:0*h},style:{display:"flex",gap:"0.75rem",alignItems:"center",backgroundColor:i?"rgba(0, 0, 0, 0.2)":d?"rgba(0, 0, 0, 0.1)":"white",color:i?"white":"black",position:"relative",padding:"0.75rem",borderRadius:"0.75rem",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)",marginBottom:"0.75rem",cursor:"pointer",transition:"background-color 0.3s ease"},children:[t.jsx(B,{avatar:l}),t.jsxs(k,{sx:{flex:1},children:[t.jsx(C,{variant:"body1",sx:{fontWeight:"bold",color:i?"white":"black"},children:r}),u&&t.jsxs(C,{variant:"caption",color:"error",sx:{fontWeight:"bold",fontSize:"0.9rem",display:"inline",marginRight:"4px"},children:[u.count," new messages"]})]}),d&&t.jsx(v,{sx:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:"green",position:"absolute",top:"50%",right:"1rem",transform:"translateY(-50%)"}})]})});_.propTypes={avatar:e.arrayOf(e.string),name:e.string.isRequired,_id:e.string.isRequired,onChatSelect:e.string.isRequired,groupChat:e.bool,sameSender:e.bool,selectedAction:e.string,poster:e.string,isOnline:e.bool,newMessageAlert:e.shape({count:e.number}),index:e.number,handleDeleteChat:e.func.isRequired,handleClick:e.func.isRequired,isSelected:e.bool.isRequired};const H=c.memo(_),S=({w:l="100%",chats:r=[],chatId:o,onlineUsers:p=[],newMessagesAlert:i=[],handleDeleteChat:d,onChatSelect:u,selectedAction:h,poster:g})=>t.jsx(k,{width:l,direction:"column",overflow:"auto",height:"100%",p:2,sx:{"&::-webkit-scrollbar":{width:"8px",backgroundColor:"transparent"},"&:hover::-webkit-scrollbar":{backgroundColor:"#f1f1f1"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#888",borderRadius:"10px"},"&:hover::-webkit-scrollbar-thumb":{backgroundColor:"#555"}},children:r.map((m,x)=>{const{avatar:s,_id:a,name:n,groupChat:q,members:b}=m,I=i.find(({chatId:f})=>f===a),D=b==null?void 0:b.some(f=>p.includes(f));return t.jsx(H,{index:x,newMessageAlert:I,isOnline:D,avatar:s,name:n,_id:a,groupChat:q,sameSender:o===a,handleDeleteChat:d,onChatSelect:u,selectedAction:h,poster:g},a)})});S.propTypes={w:e.string,chats:e.arrayOf(e.shape({avatar:e.array,_id:e.string.isRequired,name:e.string.isRequired,groupChat:e.bool.isRequired,members:e.arrayOf(e.string)})).isRequired,chatId:e.string.isRequired,onChatSelect:e.string.isRequired,selectedAction:e.string,poster:e.string,onlineUsers:e.arrayOf(e.string),newMessagesAlert:e.arrayOf(e.shape({chatId:e.string,count:e.number})),handleDeleteChat:e.func};S.defaultProps={onlineUsers:[],newMessagesAlert:[],handleDeleteChat:void 0};const W=c.lazy(()=>y(()=>import("./Search-BU72tpfX.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]))),Y=c.lazy(()=>y(()=>import("./Notification-BGdYddPJ.js"),__vite__mapDeps([14,1,2,4,9,10,6,7,15]))),U=c.lazy(()=>y(()=>import("./NewGroup-DXN_DuK7.js"),__vite__mapDeps([16,1,2,3,5,6,7,8,4,9,10,17,11,12,15]))),X=()=>{const l=O(),r=A(),{isSearch:o,isNotification:p,isNewGroup:i}=j(s=>s.misc),{notificationCount:d}=j(s=>s.chat),u=()=>r(P(!0)),h=()=>{r(T(!0))},g=()=>{r(G(!0)),r(L())},m=()=>l("/groups"),x=async()=>{var s,a;try{const{data:n}=await $.get(`${V}/api/v1/user/logout`,{withCredentials:!0});r(z()),R.success(n.message),l("/")}catch(n){R.error(((a=(s=n==null?void 0:n.response)==null?void 0:s.data)==null?void 0:a.message)||"Something went wrong")}};return t.jsx(t.Fragment,{children:t.jsx(E,{navigateToGroup:m,openNewGroup:h,openSearch:u,openNotification:g,logoutHandler:x,notificationCount:d,children:t.jsxs(v,{sx:{flexGrow:1},height:"4rem",children:[o&&t.jsx(c.Suspense,{fallback:t.jsx(w,{open:!0}),children:t.jsx(W,{})}),p&&t.jsx(c.Suspense,{fallback:t.jsx(w,{open:!0}),children:t.jsx(Y,{})}),i&&t.jsx(c.Suspense,{fallback:t.jsx(w,{open:!0}),children:t.jsx(U,{})})]})})})};e.string.isRequired,e.element.isRequired,e.func.isRequired,e.number;export{S as C,X as H};
