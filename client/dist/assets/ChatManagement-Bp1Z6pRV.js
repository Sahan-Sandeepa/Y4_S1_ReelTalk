import{r as d,az as m,j as e,an as n,V as c,a1 as p}from"./index-BanVTlhg.js";import{c as f}from"./index-BivT61Nk.js";import{A as b}from"./AdminLayout-DKfm4OHT.js";import{A as i}from"./AvatarCard-lKOp44qc.js";import{T as v}from"./Table-Cm2cQwW9.js";import{a as w}from"./hook-DVnn475D.js";import{A as C}from"./Avatar-D1EpHAeu.js";import"./Menu-Bg3f8Fci.js";import"./Drawer-plylLksj.js";import"./Container-anp6EPnq.js";import"./Select-Do0TNfn1.js";import"./Chip-Ci8AMjE3.js";import"./ListItemText-Bm1-2-T9.js";import"./TextField-DfDVmVvd.js";import"./Button-2cdgf7kG.js";import"./InputAdornment-BYHUHDBx.js";import"./CircularProgress-CTT0hMsH.js";import"./useThemeProps-DZ_aboNc.js";const N=[{field:"avatar",headerName:"Avatar",headerClassName:"table-header",width:150,renderCell:a=>e.jsx(i,{avatar:a.row.avatar})},{field:"name",headerName:"Name",headerClassName:"table-header",width:300},{field:"groupChat",headerName:"Group",headerClassName:"table-header",width:100},{field:"totalMembers",headerName:"Total Members",headerClassName:"table-header",width:120},{field:"members",headerName:"Members",headerClassName:"table-header",width:400,renderCell:a=>e.jsx(i,{max:100,avatar:a.row.members})},{field:"totalMessages",headerName:"Total Messages",headerClassName:"table-header",width:120},{field:"creator",headerName:"Created By",headerClassName:"table-header",width:250,renderCell:a=>e.jsxs(c,{direction:"row",alignItems:"center",spacing:"1rem",children:[e.jsx(C,{alt:a.row.creator.name,src:a.row.creator.avatar}),e.jsx("span",{children:a.row.creator.name})]})}],L=()=>{const{loading:a,data:t,error:o}=f(`${p}/api/v1/admin/chats`,"dashboard-chats");w([{isError:o,error:o}]);const[h,l]=d.useState([]);return d.useEffect(()=>{t&&l(t.chats.map(r=>({...r,id:r._id,avatar:r.avatar.map(s=>m(s,50)),members:r.members.map(s=>m(s.avatar,50)),creator:{name:r.creator.name,avatar:m(r.creator.avatar,50)}})))},[t]),e.jsx(b,{children:a?e.jsx(n,{height:"100vh"}):e.jsx(v,{heading:"All Chats",columns:N,rows:h})})};export{L as default};
