const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ConfirmDeleteDialog-C2801g-7.js","assets/index-nQwRLWIV.js","assets/index-D-BKb5Zh.css","assets/dialogTitleClasses-CCwdIm8o.js","assets/DialogTitle-CJCGWghD.js","assets/DialogContent-DuMLLYlj.js","assets/DialogActions-TVk9dpvR.js","assets/Button-CDrbuMrr.js","assets/AddMemberDialog-DCzXyuie.js","assets/UserItem-sFQcFq5l.js","assets/ListItem-DoZKma3k.js","assets/Avatar-Cp_pS6TR.js","assets/Add-C1FZUdzj.js","assets/hook-CbcOqQDK.js"])))=>i.map(i=>d[i]);
import{D as v,j as e,r as o,aK as T,aL as te,u as ae,O as ne,a3 as ie,aM as ce,af as le,ag as de,aN as me,aE as b,T as d,S as m,aO as N,P as t,aP as pe,aQ as ue,aR as xe,at as he,B as ge,I as h,a8 as fe,aS as be,aT as je}from"./index-nQwRLWIV.js";import{A as ke}from"./AvatarCard-Bh1tFwNb.js";import{U as ve}from"./UserItem-sFQcFq5l.js";import{b as j,a as Ce}from"./hook-CbcOqQDK.js";import{C as R}from"./CircularProgress-B9RjoFSh.js";import{D as ye}from"./Drawer-CrhtyCwH.js";import{m as Me}from"./proxy-xsMdLfhG.js";import{M as Ie}from"./Menu-BQtQEp1m.js";import{T as De}from"./TextField-DRpVSgRA.js";import{B as A}from"./Button-CDrbuMrr.js";import{D as we}from"./Delete-DGRb6gYX.js";import{A as Ge}from"./Add-C1FZUdzj.js";import"./Avatar-Cp_pS6TR.js";import"./ListItem-DoZKma3k.js";import"./Select-CNHqHSZW.js";const Se=v(e.jsx("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"}),"Done"),Ee=v(e.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),Le=v(e.jsx("path",{d:"M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21z"}),"KeyboardBackspace"),B={stackContainer:{maxWidth:"45rem",width:"100%",boxSizing:"border-box",padding:{sm:"1rem",xs:"0",md:"1rem 4rem"},height:"50vh",overflow:"auto",scrollbarWidth:"thin",scrollbarColor:"#888 #f5f5f5"},scrollbarContainer:{"&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-track":{background:"#f5f5f5"},"&::-webkit-scrollbar-thumb":{background:"#888",borderRadius:"4px"},"&::-webkit-scrollbar-thumb:hover":{background:"#555"}}},_e=o.lazy(()=>T(()=>import("./ConfirmDeleteDialog-C2801g-7.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),Ne=o.lazy(()=>T(()=>import("./AddMemberDialog-DCzXyuie.js"),__vite__mapDeps([8,1,2,9,10,11,12,13,3,4,7]))),$e=()=>{var L,_;const r=te()[0].get("group"),n=ae(),p=ne(),{isAddMember:l}=ie(a=>a.misc),s=ce(""),[g,y]=o.useState(!1),[z,f]=o.useState(!1),[M,I]=o.useState(!1),[D,u]=o.useState(""),[w,x]=o.useState(""),[P,H]=o.useState([]),{mode:i}=le(),c=de({chatId:r,populate:!0},{skip:!r}),[G,S]=j(ue),[O,V]=j(xe),[q]=j(he),F=[{isError:s.isError,error:s.error},{isError:c.isError,error:c.error}];Ce(F);const[U,W]=o.useState(!0);o.useEffect(()=>{c.data&&(u(c.data.chat.name),x(c.data.chat.name),H(c.data.chat.members),W(!1))},[c.data,G,u]);const K=()=>{n("/")},Q=()=>{y(a=>!a)},$=()=>y(!1),J=()=>{f(!1),G("Updating Group Name...",{chatId:r,name:w})},X=()=>{I(!0)},E=()=>{I(!1)},Y=()=>{p(je(!0))},Z=()=>{q("Deleting Group...",r),E(),n("/groups")},ee=a=>{O("Removing Member...",{chatId:r,userId:a})};o.useEffect(()=>(r&&(u(`Group Name ${r}`),x(`Group Name ${r}`)),()=>{u(""),x(""),f(!1)}),[r]);const re=e.jsxs(e.Fragment,{children:[e.jsx(ge,{sx:{display:{xs:"block",sm:"none",position:"fixed",right:"1rem",top:"1rem"}},children:e.jsx(h,{onClick:Q,children:e.jsx(Ie,{})})}),e.jsx(fe,{title:"back",children:e.jsx(h,{sx:{position:"absolute",top:"2rem",left:"-3rem",bgcolor:be,color:"white",":hover":{bgcolor:"rgba(0,0,0,0.7)"}},onClick:K,children:e.jsx(Le,{})})})]}),se=e.jsx(m,{direction:"row",alignItems:"center",justifyContent:"center",spacing:"1rem",padding:"3rem",children:z?e.jsxs(e.Fragment,{children:[e.jsx(De,{value:w,sx:{color:i==="dark"?"#fff":"2c2c2c"},onChange:a=>x(a.target.value)}),e.jsx(h,{onClick:J,disabled:S,sx:{color:i==="dark"?"#fff":"2c2c2c"},children:e.jsx(Se,{})})]}):e.jsxs(e.Fragment,{children:[U?e.jsx(d,{variant:"h4",children:e.jsx(R,{})}):e.jsx(d,{variant:"h4",sx:{pl:"2rem"},children:D}),e.jsx(h,{disabled:S,onClick:()=>f(!0),sx:{color:i==="dark"?"#fff":"2c2c2c"},children:e.jsx(Ee,{})})]})}),oe=e.jsxs(m,{direction:{xs:"column-reverse",sm:"row"},spacing:"1rem",p:{xs:"0",sm:"1rem",md:"1rem 4rem"},children:[e.jsx(A,{size:"medium",sx:{backgroundColor:"#ee243e",color:"white",":hover":{backgroundColor:"#cb243d"}},startIcon:e.jsx(we,{}),onClick:X,children:"Delete Group"}),e.jsx(A,{size:"medium",variant:"contained",startIcon:e.jsx(Ge,{}),onClick:Y,children:"Add Member"})]});return s.isLoading?e.jsx(me,{}):e.jsxs(b,{container:!0,height:"100vh",children:[e.jsx(b,{item:!0,sx:{display:{xs:"none",sm:"block"}},sm:4,children:e.jsx(k,{myGroups:(L=s==null?void 0:s.data)==null?void 0:L.groups,chatId:r,mode:i})}),e.jsxs(b,{item:!0,xs:12,sm:8,sx:{display:"flex",flexDirection:"column",alignItems:"center",position:"relative",padding:"1rem 3rem"},children:[re,D&&e.jsxs(e.Fragment,{children:[e.jsx(d,{sx:{fontWeight:"bold",fontSize:"1.2rem",color:i==="dark"?"#fff":"2c2c2c"},children:se}),e.jsx(m,{direction:"row",justifyContent:"center",marginBottom:"1rem",children:e.jsx(d,{variant:"body2",textAlign:"center",sx:{fontWeight:"bold",fontSize:"1.2rem",color:i==="dark"?"#fff":"2c2c2c"},children:"Members"})}),e.jsx(m,{sx:{...B.stackContainer,...B.scrollbarContainer},spacing:"0.5rem",children:V?e.jsx(R,{}):P.map(a=>e.jsx(ve,{user:a,isAdded:!0,styling:{boxShadow:"0 0 0.5rem  rgba(0,0,0,0.2)",padding:"1rem 2rem",borderRadius:"1rem",color:"2c2c2c",backgroundColor:"#fff"},handler:ee},a._id))}),oe]})]}),l&&e.jsx(o.Suspense,{fallback:e.jsx(N,{open:!0}),children:e.jsx(Ne,{chatId:r})}),M&&e.jsx(o.Suspense,{fallback:e.jsx(N,{open:!0}),children:e.jsx(_e,{open:M,handleClose:E,deleteHandler:Z})}),e.jsx(ye,{sx:{display:{xs:"block",sm:"none"}},open:g,onClose:$,children:e.jsx(k,{w:"50vw",myGroups:(_=s==null?void 0:s.data)==null?void 0:_.groups,chatId:r,mode:i})})]})},k=({w:r="100%",myGroups:n=[],chatId:p,mode:l={}})=>e.jsx(m,{width:r,sx:{backgroundColor:l==="dark"?"#2c2c2c":"#e0e0e0",height:"100vh",overflow:"auto",width:"80%"},children:n.length>0?n.map(s=>e.jsx(C,{group:s,chatId:p},s._id)):e.jsx(d,{textAlign:"center",padding:"1rem",sx:{color:l==="dark"?"#fff":"2c2c2c"},children:"No groups"})});k.propTypes={w:t.string,myGroups:t.arrayOf(t.shape({_id:t.string.isRequired,name:t.string.isRequired,avatar:t.string})),chatId:t.string,mode:t.object};const C=o.memo(({group:r,chatId:n})=>{const{name:p,avatar:l,_id:s}=r;return e.jsx(pe,{to:`?group=${s}`,onClick:g=>{n===s&&g.preventDefault()},children:e.jsx(Me.div,{initial:{opacity:0,y:"-100%"},whileInView:{opacity:1,y:0},transition:{delay:.01},style:{display:"flex",gap:"0.75rem",alignItems:"center",backgroundColor:"white",color:"black",position:"relative",padding:"0.75rem",borderRadius:"0.75rem",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)",marginBottom:"0.75rem",cursor:"pointer",transition:"background-color 0.3s ease"},children:e.jsxs(m,{direction:"row",spacing:"1rem",alignItems:"center",children:[e.jsx(ke,{avatar:l}),e.jsx(d,{sx:{fontWeight:"bold"},children:p})]})})})});C.displayName="GroupListItem";C.propTypes={group:t.shape({_id:t.string.isRequired,name:t.string.isRequired,avatar:t.string}).isRequired,chatId:t.string};export{$e as default};
